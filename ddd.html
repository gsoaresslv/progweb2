<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listando DDD</title>
</head>
<body>
<form action="">
	<input type="text" id="ddd" placeholder="DDD" size="9">
	<input type="text" id="cidade" placeholder="Cidade" size="20" disabled><br>
	<input type="button" value="Enviar">
</form> 

<ul id="lista"></ul> 

<script>
	
	const lista = document.querySelector('#lista')
	document.querySelector("#ddd").addEventListener("change", bdad);
	
 	function bdad(evento) {
		fetch(`https://brasilapi.com.br/api/ddd/v1/${evento.target.value}`)
		.then(resposta => resposta.json())
		.then(dados => {
			atr(dados.cities);
		})
	}
	
	function atr(cidades)	{
		lista.innerHTML = "<ul></ul>"
		cidades.forEach(cidade => {
		const ut = document.createElement('li');
		ut.textContent = cidade;
		lista.append(ut);
	});
	}

</script>
</body>
</html>
